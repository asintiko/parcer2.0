{"version":3,"file":"index-BVJoQ9qL.js","sources":["../src/components/chat/logFiltersPopup/content.tsx","../src/components/chat/logFiltersPopup/index.ts"],"sourcesContent":["import {createComputed} from 'solid-js';\r\nimport {attachHotClassName} from '../../../helpers/solid/classname';\r\nimport defineSolidElement, {PassedProps} from '../../../lib/solidjs/defineSolidElement';\r\nimport {CommittedFilters} from '../../sidebarRight/tabs/adminRecentActions/filters';\r\nimport {FlagFilters} from '../../sidebarRight/tabs/adminRecentActions/filters/flagFilters';\r\nimport {useFlagFilters} from '../../sidebarRight/tabs/adminRecentActions/filters/useFlagFilters';\r\nimport styles from './styles.module.scss';\r\n\r\nif(import.meta.hot) import.meta.hot.accept();\r\n\r\n\r\nexport type LogFiltersPopupContentProps = {\r\n  channelId: ChatId;\r\n  isBroadcast: boolean;\r\n  committedFilters?: CommittedFilters | null;\r\n  onFinish: (payload: FinishPayload) => void;\r\n};\r\n\r\nexport type FinishPayload = {\r\n  committedFilters?: CommittedFilters | null;\r\n};\r\n\r\nconst LogFiltersPopupContent = defineSolidElement({\r\n  name: 'log-filters-popup-content',\r\n  component: (props: PassedProps<LogFiltersPopupContentProps>) => {\r\n    attachHotClassName(props.element, styles.Container);\r\n\r\n    const filtersControls = useFlagFilters({channelId: () => props.channelId, isBroadcast: () => props.isBroadcast});\r\n\r\n    createComputed(() => {\r\n      filtersControls.setFromCommittedFilters(props.committedFilters);\r\n    });\r\n\r\n    const onCommit = (committedFilters?: CommittedFilters) => {\r\n      props.onFinish({committedFilters});\r\n    };\r\n\r\n    return <>\r\n      <FlagFilters\r\n        filtersControls={filtersControls}\r\n        onCommit={onCommit}\r\n        onReset={() => onCommit()}\r\n      />\r\n    </>;\r\n  }\r\n});\r\n\r\nexport default LogFiltersPopupContent;\r\n","import type SolidJSHotReloadGuardProvider from '../../../lib/solidjs/hotReloadGuardProvider';\r\nimport PopupElement from '../../popups';\r\nimport LogFiltersPopupContent, {LogFiltersPopupContentProps} from './content';\r\n\r\n\r\ntype Args = LogFiltersPopupContentProps & {\r\n  HotReloadGuard: typeof SolidJSHotReloadGuardProvider;\r\n};\r\n\r\nexport default class LogFiltersPopup extends PopupElement {\r\n  constructor({HotReloadGuard, onFinish, ...rest}: Args) {\r\n    super('log-filters-popup', {\r\n      overlayClosable: true,\r\n      closable: true,\r\n      body: true,\r\n      title: 'RecentActions'\r\n    });\r\n\r\n    const content = new LogFiltersPopupContent;\r\n    content.HotReloadGuard = HotReloadGuard;\r\n    content.feedProps({\r\n      ...rest,\r\n      onFinish: (payload) => {\r\n        onFinish(payload);\r\n        this.hide();\r\n      }\r\n    });\r\n\r\n    this.body.append(content);\r\n  }\r\n}\r\n"],"names":["LogFiltersPopupContent","defineSolidElement","name","component","props","element","styles","Container","filtersControls","useFlagFilters","channelId","isBroadcast","createComputed","setFromCommittedFilters","committedFilters","onCommit","onFinish","_$createComponent","FlagFilters","onReset","LogFiltersPopupContent$1","LogFiltersPopup","PopupElement","HotReloadGuard","rest","content","payload"],"mappings":"oyBAsBMA,EAAyBC,EAAmB,CAChDC,KAAM,4BACNC,UAAgEC,GAAA,CAC3CA,EAAAA,EAAMC,QAASC,EAAOC,SAAS,EAElD,MAAMC,EAAkBC,EAAe,CAACC,UAAWA,IAAMN,EAAMM,UAAWC,YAAaA,IAAMP,EAAMO,WAAAA,CAAY,EAE/GC,EAAe,IAAM,CACHC,EAAAA,wBAAwBT,EAAMU,gBAAgB,CAAA,CAC/D,EAED,MAAMC,EAAoDD,GAAA,CACxDV,EAAMY,SAAS,CAACF,iBAAAA,CAAAA,CAAiB,CAAA,EAGnC,OAAAG,EACGC,EAAW,CACVV,gBAAAA,EACAO,SAAAA,EACAI,QAASA,IAAMJ,EAAS,CAAA,CAAC,CAG/B,CACF,CAAC,EAEDK,EAAepB,ECtCf,MAAqBqB,UAAwBC,CAAa,CACxD,YAAY,CAAC,eAAAC,EAAgB,SAAAP,EAAU,GAAGQ,GAAa,CACrD,MAAM,oBAAqB,CACzB,gBAAiB,GACjB,SAAU,GACV,KAAM,GACN,MAAO,eAAA,CACR,EAED,MAAMC,EAAU,IAAIzB,EACpByB,EAAQ,eAAiBF,EACzBE,EAAQ,UAAU,CAChB,GAAGD,EACH,SAAWE,GAAY,CACrBV,EAASU,CAAO,EAChB,KAAK,KAAK,CACZ,CAAA,CACD,EAEI,KAAA,KAAK,OAAOD,CAAO,CAC1B,CACF"}