{"version":3,"file":"index-DDjnpkb2.js","sources":["../src/helpers/date/makeDateFromTimestamp.ts","../src/components/chat/bubbleParts/minimalBubbleMessageContent.tsx","../src/components/chat/bubbleParts/adminLogsResolver/reply.tsx","../src/components/chat/bubbleParts/adminLogsResolver/copyTextHelpers.ts","../src/components/chat/bubbleParts/adminLogsResolver/index.tsx"],"sourcesContent":["export function makeDateFromTimestamp(timestamp: number): Date {\r\n  return new Date(timestamp * 1000);\r\n}\r\n","import {JSX, ParentProps, Show} from 'solid-js';\r\nimport {getDirection} from '../../../helpers/dom/setInnerHTML';\r\nimport {generateTail, makeTime} from '../utils';\r\n\r\n\r\nexport const MinimalBubbleMessageContent = (props: ParentProps<{\r\n  name?: JSX.Element;\r\n  date: Date;\r\n}>) => {\r\n  return (\r\n    <div class=\"bubble-content-wrapper\">\r\n      <div class=\"bubble-content\">\r\n        <Show when={props.name}>\r\n          <div class=\"name colored-name next-is-message\">\r\n            {props.name}\r\n          </div>\r\n        </Show>\r\n        <div class=\"message spoilers-container\" dir={getDirection()}>\r\n          {props.children}\r\n          <div class=\"time\">\r\n            {makeTime(props.date)}\r\n            <div class=\"time-inner\">\r\n              {makeTime(props.date)}\r\n            </div>\r\n          </div>\r\n          <div class='clearfix' />\r\n        </div>\r\n        {generateTail()}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import createMiddleware from '../../../../helpers/solid/createMiddleware';\r\nimport {MessageEntity} from '../../../../layer';\r\nimport {useHotReloadGuard} from '../../../../lib/solidjs/hotReloadGuard';\r\nimport type wrapReply from '../../../wrappers/reply';\r\n\r\n\r\nexport const Reply = (props: {\r\n  colorPeerId?: PeerId;\r\n  title: Parameters<typeof wrapReply>[0]['title'];\r\n  text: string;\r\n  entities?: MessageEntity[];\r\n}) => {\r\n  const {wrapReply} = useHotReloadGuard();\r\n\r\n  const content = () => {\r\n    const middleware = createMiddleware().get();\r\n\r\n    const container = wrapReply({\r\n      setColorPeerId: props.colorPeerId,\r\n      title: props.title,\r\n      quote: {\r\n        text: props.text,\r\n        entities: props.entities\r\n      },\r\n      middleware\r\n    }).container;\r\n\r\n    container.classList.add('margin-0');\r\n\r\n    return container;\r\n  };\r\n\r\n  return <>{content()}</>;\r\n};\r\n","import {formatDate} from '../../../../helpers/date';\r\nimport {makeDateFromTimestamp} from '../../../../helpers/date/makeDateFromTimestamp';\r\nimport formatDuration from '../../../../helpers/formatDuration';\r\nimport prepareTextWithEntitiesForCopying from '../../../../helpers/prepareTextWithEntitiesForCopying';\r\nimport {ChannelAdminLogEventAction, ChatBannedRights, Message} from '../../../../layer';\r\nimport getParticipantPeerId from '../../../../lib/appManagers/utils/chats/getParticipantPeerId';\r\nimport {isBannedParticipant} from '../../../../lib/appManagers/utils/chats/isBannedParticipant';\r\nimport removeChatBannedRightsFromParticipant from '../../../../lib/appManagers/utils/chats/removeChatBannedRightsFromParticipant';\r\nimport I18n from '../../../../lib/langPack';\r\nimport type apiManagerProxy from '../../../../lib/mtproto/mtprotoworker';\r\nimport {useHotReloadGuard} from '../../../../lib/solidjs/hotReloadGuard';\r\nimport {resolveAdminRightFlagI18n} from '../../../sidebarRight/tabs/adminRecentActions/adminRightsI18nResolver';\r\nimport {participantRightsMap} from '../../../sidebarRight/tabs/adminRecentActions/participantRightsMap';\r\nimport {diffFlags} from '../../../sidebarRight/tabs/adminRecentActions/utils';\r\nimport {wrapFormattedDuration} from '../../../wrappers/wrapDuration';\r\n\r\n\r\ntype ApiManagerProxyType = typeof apiManagerProxy;\r\n\r\nexport type CopyTextResult = {\r\n  text: string;\r\n  html?: string;\r\n};\r\n\r\nexport function getDateTextForCopy(timestamp: number): string {\r\n  const date = makeDateFromTimestamp(timestamp);\r\n  const dateElement = formatDate(date, {withTime: true});\r\n  return dateElement.textContent || '';\r\n}\r\n\r\n\r\nexport function formatDurationAsText(seconds: number): string {\r\n  return wrapFormattedDuration(formatDuration(seconds), true);\r\n}\r\n\r\nexport function extractBanChanges(\r\n  action: Extract<ChannelAdminLogEventAction, {_: 'channelAdminLogEventActionParticipantToggleBan'}>,\r\n  channelId: ChatId,\r\n  apiManagerProxy: ApiManagerProxyType\r\n) {\r\n  const isBanned = isBannedParticipant(action.new_participant);\r\n  const prevBannedParticipant = action.prev_participant?._ === 'channelParticipantBanned' ? action.prev_participant : undefined;\r\n  const newBannedParticipant = action.new_participant?._ === 'channelParticipantBanned' ? action.new_participant : undefined;\r\n\r\n  const channel = apiManagerProxy.getChat(channelId);\r\n\r\n  const removeDefaultRights = (rights: ChatBannedRights.chatBannedRights) =>\r\n    channel?._ === 'channel' && rights ?\r\n      removeChatBannedRightsFromParticipant(channel, rights) :\r\n      rights;\r\n\r\n  const participantPeerId = getParticipantPeerId(action.prev_participant || action.new_participant);\r\n  const participantUser = apiManagerProxy.getUser(participantPeerId.toUserId());\r\n  const username = participantUser?.username || '';\r\n\r\n  const diff = diffFlags(\r\n    removeDefaultRights(prevBannedParticipant?.banned_rights)?.pFlags,\r\n    removeDefaultRights(newBannedParticipant?.banned_rights)?.pFlags\r\n  );\r\n\r\n  // yes, they need to be inversed here\r\n  const removed = diff.new.map(key => participantRightsMap[key]).filter(Boolean).map(key => I18n.format(key, true));\r\n  const added = diff.old.map(key => participantRightsMap[key]).filter(Boolean).map(key => I18n.format(key, true));\r\n\r\n  return {isBanned, participantPeerId, participantUser, username, added, removed};\r\n}\r\n\r\nexport function extractAdminChanges(\r\n  action: Extract<ChannelAdminLogEventAction, {_: 'channelAdminLogEventActionParticipantToggleAdmin'}>,\r\n  apiManagerProxy: ApiManagerProxyType,\r\n  isBroadcast: boolean\r\n) {\r\n  const prevParticipantRights = 'admin_rights' in action.prev_participant ? action.prev_participant.admin_rights : null;\r\n  const newParticipantRights = 'admin_rights' in action.new_participant ? action.new_participant.admin_rights : null;\r\n\r\n  const diff = diffFlags(prevParticipantRights?.pFlags, newParticipantRights?.pFlags);\r\n  const participantPeerId = getParticipantPeerId(action.prev_participant || action.new_participant);\r\n\r\n  const participantUser = apiManagerProxy.getUser(participantPeerId.toUserId());\r\n  const username = participantUser?.username || '';\r\n\r\n  const added = diff.new.map(key => I18n.format(resolveAdminRightFlagI18n(key as any, {isBroadcast}), true));\r\n  const removed = diff.old.map(key => I18n.format(resolveAdminRightFlagI18n(key as any, {isBroadcast}), true));\r\n\r\n  return {participantPeerId, participantUser, username, added, removed};\r\n}\r\n\r\nexport function extractDefaultRightsChanges(\r\n  action: Extract<ChannelAdminLogEventAction, {_: 'channelAdminLogEventActionDefaultBannedRights'}>\r\n) {\r\n  const diff = diffFlags(action.prev_banned_rights?.pFlags, action.new_banned_rights?.pFlags);\r\n\r\n  const added = diff.old.map(key => participantRightsMap[key]).filter(Boolean).map(key => I18n.format(key, true));\r\n  const removed = diff.new.map(key => participantRightsMap[key]).filter(Boolean).map(key => I18n.format(key, true));\r\n\r\n  return {added, removed};\r\n}\r\n\r\nexport function getMessageTextForCopy(message: Message) {\r\n  if(message._ !== 'message') {\r\n    return {text: '', html: ''};\r\n  }\r\n\r\n  return prepareTextWithEntitiesForCopying({\r\n    text: message.message,\r\n    entities: message.entities\r\n  });\r\n}\r\n\r\nexport async function createSimpleServiceCopyText(\r\n  timestamp: number,\r\n  peerId: PeerId,\r\n  formatText: (peerTitle: string) => string\r\n): Promise<CopyTextResult> {\r\n  const {getPeerTitle} = useHotReloadGuard();\r\n  const dateText = getDateTextForCopy(timestamp);\r\n  const peerTitle = await getPeerTitle({peerId, plainText: true});\r\n  const text = formatText(peerTitle);\r\n  return {text: `${text} [${dateText}]`};\r\n}\r\n\r\nexport async function createMessageCopyText(\r\n  timestamp: number,\r\n  peerId: PeerId,\r\n  message: Message,\r\n  formatText: (peerTitle: string) => string\r\n): Promise<CopyTextResult> {\r\n  const {getPeerTitle} = useHotReloadGuard();\r\n  const dateText = getDateTextForCopy(timestamp);\r\n  const peerTitle = await getPeerTitle({peerId, plainText: true});\r\n  const text = formatText(peerTitle);\r\n  const msg = getMessageTextForCopy(message);\r\n  return {\r\n    text: `${text} [${dateText}]\\n${msg.text}`,\r\n    html: `${text} [${dateText}]<br/>${msg.html}`\r\n  };\r\n}\r\n\r\nexport async function createPreviousValueCopyText(\r\n  timestamp: number,\r\n  peerId: PeerId,\r\n  formatMainText: (peerTitle: string) => string,\r\n  newValue: string,\r\n  prevValue: string,\r\n  formatPreviousLabel: () => string\r\n): Promise<CopyTextResult> {\r\n  const {getPeerTitle} = useHotReloadGuard();\r\n  const dateText = getDateTextForCopy(timestamp);\r\n  const peerTitle = await getPeerTitle({peerId, plainText: true});\r\n  const mainText = formatMainText(peerTitle);\r\n  const previousLabel = formatPreviousLabel();\r\n  return {\r\n    text: `${mainText} [${dateText}]\\n${newValue}\\n\\n${previousLabel}:\\n${prevValue}`\r\n  };\r\n}\r\n\r\nexport async function createMultiLineCopyText(\r\n  timestamp: number,\r\n  peerId: PeerId,\r\n  buildLines: (peerTitle: string, dateText: string) => string[]\r\n): Promise<CopyTextResult> {\r\n  const {getPeerTitle} = useHotReloadGuard();\r\n  const dateText = getDateTextForCopy(timestamp);\r\n  const peerTitle = await getPeerTitle({peerId, plainText: true});\r\n  const lines = buildLines(peerTitle, dateText);\r\n  return {text: lines.join('\\n')};\r\n}\r\n\r\nexport async function createMessageWithPreviousCopyText(\r\n  timestamp: number,\r\n  peerId: PeerId,\r\n  newMessage: Message,\r\n  prevMessage: Message,\r\n  formatMainText: (peerTitle: string) => string,\r\n  formatPreviousLabel: () => string\r\n): Promise<CopyTextResult> {\r\n  const {getPeerTitle} = useHotReloadGuard();\r\n  const dateText = getDateTextForCopy(timestamp);\r\n  const peerTitle = await getPeerTitle({peerId, plainText: true});\r\n  const mainText = formatMainText(peerTitle);\r\n  const newMsg = getMessageTextForCopy(newMessage);\r\n  const prevMsg = getMessageTextForCopy(prevMessage);\r\n  const previousLabel = formatPreviousLabel();\r\n  return {\r\n    text: `${mainText} [${dateText}]\\n${newMsg.text}\\n\\n${previousLabel}:\\n${prevMsg.text}`,\r\n    html: `${mainText} [${dateText}]<br/>${newMsg.html}<br/><br/>${previousLabel}:<br/>${prevMsg.html}`\r\n  };\r\n}\r\n\r\nexport async function createTwoPeerCopyText(\r\n  timestamp: number,\r\n  peerId: PeerId,\r\n  secondPeerId: PeerId,\r\n  formatText: (peerTitle: string, secondPeerTitle: string) => string\r\n): Promise<CopyTextResult> {\r\n  const {getPeerTitle} = useHotReloadGuard();\r\n  const dateText = getDateTextForCopy(timestamp);\r\n  const peerTitle = await getPeerTitle({peerId, plainText: true});\r\n  const secondPeerTitle = await getPeerTitle({peerId: secondPeerId, plainText: true});\r\n  const text = formatText(peerTitle, secondPeerTitle);\r\n  return {text: `${text} [${dateText}]`};\r\n}\r\n\r\nexport async function createConditionalCopyText(\r\n  timestamp: number,\r\n  peerId: PeerId,\r\n  condition: boolean,\r\n  formatTexts: (peerTitle: string) => {trueText: string; falseText: string}\r\n): Promise<CopyTextResult> {\r\n  const {getPeerTitle} = useHotReloadGuard();\r\n  const dateText = getDateTextForCopy(timestamp);\r\n  const peerTitle = await getPeerTitle({peerId, plainText: true});\r\n  const {trueText, falseText} = formatTexts(peerTitle);\r\n  const text = condition ? trueText : falseText;\r\n  return {text: `${text} [${dateText}]`};\r\n}\r\n","import {Component, For, Show} from 'solid-js';\r\nimport {makeDateFromTimestamp} from '../../../../helpers/date/makeDateFromTimestamp';\r\nimport formatDuration from '../../../../helpers/formatDuration';\r\nimport {I18nTsx} from '../../../../helpers/solid/i18n';\r\nimport {ChannelAdminLogEvent, ChannelAdminLogEventAction, ChatBannedRights} from '../../../../layer';\r\nimport {AdminLog} from '../../../../lib/appManagers/appChatsManager';\r\nimport {MyMessage} from '../../../../lib/appManagers/appMessagesManager';\r\nimport getParticipantPeerId from '../../../../lib/appManagers/utils/chats/getParticipantPeerId';\r\nimport {isBannedParticipant} from '../../../../lib/appManagers/utils/chats/isBannedParticipant';\r\nimport removeChatBannedRightsFromParticipant from '../../../../lib/appManagers/utils/chats/removeChatBannedRightsFromParticipant';\r\nimport getPeerId from '../../../../lib/appManagers/utils/peers/getPeerId';\r\nimport I18n, {i18n, LangPackKey} from '../../../../lib/langPack';\r\nimport wrapRichText from '../../../../lib/richTextProcessor/wrapRichText';\r\nimport wrapTelegramUrlToAnchor from '../../../../lib/richTextProcessor/wrapTelegramUrlToAnchor';\r\nimport {useHotReloadGuard} from '../../../../lib/solidjs/hotReloadGuard';\r\nimport {resolveAdminRightFlagI18n} from '../../../sidebarRight/tabs/adminRecentActions/adminRightsI18nResolver';\r\nimport {participantRightsMap} from '../../../sidebarRight/tabs/adminRecentActions/participantRightsMap';\r\nimport {TopicName} from '../../../sidebarRight/tabs/adminRecentActions/topicName';\r\nimport {diffFlags} from '../../../sidebarRight/tabs/adminRecentActions/utils';\r\nimport Space from '../../../space';\r\nimport {wrapFormattedDuration} from '../../../wrappers/wrapDuration';\r\nimport {isMessage, linkColor} from '../../utils';\r\nimport {MinimalBubbleMessageContent} from '../minimalBubbleMessageContent';\r\nimport {Reply} from './reply';\r\nimport {CopyTextResult, createConditionalCopyText, createMessageCopyText, createMessageWithPreviousCopyText, createMultiLineCopyText, createPreviousValueCopyText, createSimpleServiceCopyText, createTwoPeerCopyText, extractAdminChanges, extractBanChanges, extractDefaultRightsChanges, formatDurationAsText, getDateTextForCopy, getMessageTextForCopy} from './copyTextHelpers';\r\n\r\n\r\ntype RenderArgs = {\r\n  channelId: ChatId;\r\n  event: AdminLog;\r\n  isBroadcast: boolean;\r\n  isForum: boolean;\r\n  peerId: PeerId;\r\n  makePeerTitle: (peerId: PeerId) => Node;\r\n  makeMessagePeerTitle: (peerId: PeerId) => Node;\r\n  isOut: boolean;\r\n};\r\n\r\ntype ServiceResult = {\r\n  type: 'service';\r\n  Content: Component;\r\n  getCopyText: () => Promise<CopyTextResult>;\r\n};\r\n\r\ntype RegularResult = {\r\n  type: 'regular';\r\n  bubbleClass: string;\r\n  Content: Component;\r\n  getCopyText: () => Promise<CopyTextResult>;\r\n};\r\n\r\ntype DefaultResult = {\r\n  type: 'default';\r\n  message: MyMessage;\r\n  originalMessage?: MyMessage;\r\n  colorPeerId?: PeerId;\r\n  ServiceContent: Component;\r\n  getCopyText: () => Promise<CopyTextResult>;\r\n};\r\n\r\ntype MapCallbackResult = ServiceResult | RegularResult | DefaultResult | null;\r\n\r\ntype MapCallbackArgs<Key extends ChannelAdminLogEventAction['_']> = {\r\n  action: Extract<ChannelAdminLogEventAction, {_: Key}>;\r\n} & RenderArgs;\r\n\r\ntype MapCallback<Key extends ChannelAdminLogEventAction['_']> = (args: MapCallbackArgs<Key>) => MapCallbackResult;\r\n\r\nconst defaultBubbleClass = 'can-have-tail has-fake-service is-forced-rounded';\r\n\r\nconst adminLogsMap: { [Key in ChannelAdminLogEventAction['_']]: MapCallback<Key> } = {\r\n  'channelAdminLogEventActionChangeTitle': ({isBroadcast, action, peerId, makePeerTitle, event}) => ({\r\n    type: 'service',\r\n    Content: () => i18n(isBroadcast ? 'AdminLog.ChangeTitleChannel' : 'AdminLog.ChangeTitleGroup', [makePeerTitle(peerId), action.new_value]),\r\n    getCopyText: () => createSimpleServiceCopyText(\r\n      event.date,\r\n      peerId,\r\n      (peerTitle) => I18n.format(isBroadcast ? 'AdminLog.ChangeTitleChannel' : 'AdminLog.ChangeTitleGroup', true, [peerTitle, action.new_value])\r\n    )\r\n  }),\r\n  'channelAdminLogEventActionChangeAbout': ({isBroadcast, action, event, peerId, makePeerTitle, makeMessagePeerTitle, isOut}) => ({\r\n    type: 'regular',\r\n    bubbleClass: defaultBubbleClass,\r\n    Content: () => {\r\n      return (\r\n        <>\r\n          <div class='service-msg'>\r\n            <I18nTsx key={isBroadcast ? 'AdminLog.ChangeAboutChannel' : 'AdminLog.ChangeAboutGroup'} args={[makePeerTitle(peerId)]} />\r\n          </div>\r\n          <MinimalBubbleMessageContent\r\n            date={makeDateFromTimestamp(event.date)}\r\n            name={isOut ? null : makeMessagePeerTitle(peerId)}\r\n          >\r\n            {wrapRichText(action.new_value)}\r\n            <Space amount='0.5rem' />\r\n            <Reply\r\n              colorPeerId={peerId}\r\n              title={i18n('AdminRecentActions.PreviousDescription')}\r\n              text={action.prev_value}\r\n            />\r\n          </MinimalBubbleMessageContent>\r\n        </>\r\n      );\r\n    },\r\n    getCopyText: () => createPreviousValueCopyText(\r\n      event.date,\r\n      peerId,\r\n      (peerTitle) => I18n.format(isBroadcast ? 'AdminLog.ChangeAboutChannel' : 'AdminLog.ChangeAboutGroup', true, [peerTitle]),\r\n      action.new_value,\r\n      action.prev_value,\r\n      () => I18n.format('AdminRecentActions.PreviousDescription', true)\r\n    )\r\n  }),\r\n  'channelAdminLogEventActionChangeUsername': ({isBroadcast, event, action, peerId, makePeerTitle, makeMessagePeerTitle, isOut}) => ({\r\n    type: 'regular',\r\n    bubbleClass: defaultBubbleClass,\r\n    Content: () => {\r\n      const translationKey = ((): LangPackKey => {\r\n        if(action.new_value) {\r\n          return isBroadcast ? 'AdminLog.ChangeLinkChannel' : 'AdminLog.ChangeLinkGroup';\r\n        } else {\r\n          return isBroadcast ? 'AdminLog.RemovedLinkChannel' : 'AdminLog.RemovedLinkGroup';\r\n        }\r\n      })();\r\n\r\n      const anchor = (() => {\r\n        if(!action.new_value) return;\r\n        const link = `t.me/${action.new_value}`\r\n\r\n        const anchor = wrapTelegramUrlToAnchor(link);\r\n        anchor.textContent = link;\r\n\r\n        return anchor;\r\n      })();\r\n\r\n      return (\r\n        <>\r\n          <div class='service-msg'>\r\n            <I18nTsx key={translationKey} args={[makePeerTitle(peerId)]} />\r\n          </div>\r\n          <MinimalBubbleMessageContent\r\n            date={makeDateFromTimestamp(event.date)}\r\n            name={isOut ? null : makeMessagePeerTitle(peerId)}\r\n          >\r\n            <Show when={anchor}>\r\n              {anchor}\r\n              <Space amount='0.5rem' />\r\n            </Show>\r\n            <Show when={action.prev_value}>\r\n              <Reply\r\n                colorPeerId={peerId}\r\n                title={i18n('AdminRecentActions.PreviousLink')}\r\n                text={`https://t.me/${action.prev_value}`}\r\n              />\r\n            </Show>\r\n          </MinimalBubbleMessageContent>\r\n        </>\r\n      );\r\n    },\r\n    getCopyText: () => createMultiLineCopyText(\r\n      event.date,\r\n      peerId,\r\n      (peerTitle, dateText) => {\r\n        const translationKey: LangPackKey = action.new_value ?\r\n          (isBroadcast ? 'AdminLog.ChangeLinkChannel' : 'AdminLog.ChangeLinkGroup') :\r\n          (isBroadcast ? 'AdminLog.RemovedLinkChannel' : 'AdminLog.RemovedLinkGroup');\r\n        const previousLabel = I18n.format('AdminRecentActions.PreviousLink', true);\r\n        const lines = [`${I18n.format(translationKey, true, [peerTitle])} [${dateText}]`];\r\n        if(action.new_value) {\r\n          lines.push(`https://t.me/${action.new_value}`);\r\n        }\r\n        if(action.prev_value) {\r\n          lines.push(`${previousLabel}: https://t.me/${action.prev_value}`);\r\n        }\r\n        return lines;\r\n      }\r\n    )\r\n  }),\r\n  'channelAdminLogEventActionChangePhoto': ({isBroadcast, peerId, makePeerTitle, event}) => ({\r\n    type: 'service',\r\n    Content: () => i18n(isBroadcast ? 'AdminLog.ChangePhotoChannel' : 'AdminLog.ChangePhotoGroup', [makePeerTitle(peerId)]),\r\n    getCopyText: () => createSimpleServiceCopyText(\r\n      event.date,\r\n      peerId,\r\n      (peerTitle) => I18n.format(isBroadcast ? 'AdminLog.ChangePhotoChannel' : 'AdminLog.ChangePhotoGroup', true, [peerTitle])\r\n    )\r\n  }),\r\n  'channelAdminLogEventActionToggleInvites': ({action, peerId, makePeerTitle, event}) => ({\r\n    type: 'service',\r\n    Content: () => i18n(action.new_value ? 'AdminLog.ToggleInvitesEnabled' : 'AdminLog.ToggleInvitesDisabled', [makePeerTitle(peerId)]),\r\n    getCopyText: () => createSimpleServiceCopyText(\r\n      event.date,\r\n      peerId,\r\n      (peerTitle) => I18n.format(action.new_value ? 'AdminLog.ToggleInvitesEnabled' : 'AdminLog.ToggleInvitesDisabled', true, [peerTitle])\r\n    )\r\n  }),\r\n  'channelAdminLogEventActionToggleSignatures': ({action, peerId, makePeerTitle, event}) => ({\r\n    type: 'service',\r\n    Content: () => i18n(action.new_value ? 'AdminLog.ToggleSignaturesEnabled' : 'AdminLog.ToggleSignaturesDisabled', [makePeerTitle(peerId)]),\r\n    getCopyText: () => createSimpleServiceCopyText(\r\n      event.date,\r\n      peerId,\r\n      (peerTitle) => I18n.format(action.new_value ? 'AdminLog.ToggleSignaturesEnabled' : 'AdminLog.ToggleSignaturesDisabled', true, [peerTitle])\r\n    )\r\n  }),\r\n  'channelAdminLogEventActionUpdatePinned': ({action, peerId, makePeerTitle, event}) => isMessage(action.message) ? ({\r\n    type: 'default',\r\n    message: action.message,\r\n    ServiceContent: () => {\r\n      const pinned = action.message._ === 'message' && action.message.pFlags?.pinned;\r\n      return i18n(pinned ? 'AdminLog.PinnedMessage' : 'AdminLog.UnpinnedMessage', [makePeerTitle(peerId)]);\r\n    },\r\n    getCopyText: () => {\r\n      const pinned = action.message._ === 'message' && action.message.pFlags?.pinned;\r\n      return createMessageCopyText(\r\n        event.date,\r\n        peerId,\r\n        action.message,\r\n        (peerTitle) => I18n.format(pinned ? 'AdminLog.PinnedMessage' : 'AdminLog.UnpinnedMessage', true, [peerTitle])\r\n      );\r\n    }\r\n  }) : null,\r\n  'channelAdminLogEventActionEditMessage': ({action, peerId, makePeerTitle, event}) => isMessage(action.new_message) ? ({\r\n    type: 'default',\r\n    message: action.new_message,\r\n    colorPeerId: peerId,\r\n    originalMessage: isMessage(action.prev_message) ? action.prev_message : null,\r\n    ServiceContent: () => i18n('AdminLog.EditedMessage', [makePeerTitle(peerId)]),\r\n    getCopyText: () => createMessageWithPreviousCopyText(\r\n      event.date,\r\n      peerId,\r\n      action.new_message,\r\n      action.prev_message,\r\n      (peerTitle) => I18n.format('AdminLog.EditedMessage', true, [peerTitle]),\r\n      () => I18n.format('AdminRecentActions.PreviousMessage', true)\r\n    )\r\n  }) : null,\r\n  'channelAdminLogEventActionDeleteMessage': ({action, peerId, makePeerTitle, event}) => isMessage(action.message) ? ({\r\n    type: 'default',\r\n    message: action.message,\r\n    ServiceContent: () => i18n('AdminLog.DeletedMessage', [makePeerTitle(peerId)]),\r\n    getCopyText: () => createMessageCopyText(\r\n      event.date,\r\n      peerId,\r\n      action.message,\r\n      (peerTitle) => I18n.format('AdminLog.DeletedMessage', true, [peerTitle])\r\n    )\r\n  }) : null,\r\n  'channelAdminLogEventActionParticipantJoin': ({isBroadcast, peerId, makePeerTitle, event}) => ({\r\n    type: 'service',\r\n    Content: () => i18n(isBroadcast ? 'AdminLog.ParticipantJoinedChannel' : 'AdminLog.ParticipantJoinedGroup', [makePeerTitle(peerId)]),\r\n    getCopyText: () => createSimpleServiceCopyText(\r\n      event.date,\r\n      peerId,\r\n      (peerTitle) => I18n.format(isBroadcast ? 'AdminLog.ParticipantJoinedChannel' : 'AdminLog.ParticipantJoinedGroup', true, [peerTitle])\r\n    )\r\n  }),\r\n  'channelAdminLogEventActionParticipantLeave': ({isBroadcast, peerId, makePeerTitle, event}) => ({\r\n    type: 'service',\r\n    Content: () => i18n(isBroadcast ? 'AdminLog.ParticipantLeftChannel' : 'AdminLog.ParticipantLeftGroup', [makePeerTitle(peerId)]),\r\n    getCopyText: () => createSimpleServiceCopyText(\r\n      event.date,\r\n      peerId,\r\n      (peerTitle) => I18n.format(isBroadcast ? 'AdminLog.ParticipantLeftChannel' : 'AdminLog.ParticipantLeftGroup', true, [peerTitle])\r\n    )\r\n  }),\r\n  'channelAdminLogEventActionParticipantInvite': ({peerId, action, makePeerTitle, event}) => ({\r\n    type: 'service',\r\n    Content: () => i18n('AdminLog.ParticipantInvited', [makePeerTitle(peerId), makePeerTitle(getParticipantPeerId(action.participant))]),\r\n    getCopyText: () => createTwoPeerCopyText(\r\n      event.date,\r\n      peerId,\r\n      getParticipantPeerId(action.participant),\r\n      (peerTitle, participantTitle) => I18n.format('AdminLog.ParticipantInvited', true, [peerTitle, participantTitle])\r\n    )\r\n  }),\r\n  'channelAdminLogEventActionParticipantToggleBan': ({event, action, channelId, peerId, makeMessagePeerTitle, makePeerTitle, isOut}) => ({\r\n    type: 'regular',\r\n    bubbleClass: defaultBubbleClass,\r\n    Content: () => {\r\n      const isBanned = isBannedParticipant(action.new_participant);\r\n      const {apiManagerProxy} = useHotReloadGuard();\r\n\r\n      const prevBannedParticipant = action.prev_participant?._ === 'channelParticipantBanned' ? action.prev_participant : undefined;\r\n      const newBannedParticipant = action.new_participant?._ === 'channelParticipantBanned' ? action.new_participant : undefined;\r\n\r\n      const channel = apiManagerProxy.getChat(channelId);\r\n\r\n      const removeDefaultRights = (rights: ChatBannedRights.chatBannedRights) =>\r\n        channel?._ === 'channel' && rights ?\r\n          removeChatBannedRightsFromParticipant(channel, rights) :\r\n          rights;\r\n\r\n      const participantPeerId = getParticipantPeerId(action.prev_participant || action.new_participant);\r\n\r\n      const participantUser = apiManagerProxy.getUser(participantPeerId.toUserId());\r\n      const username = participantUser?.username || '';\r\n\r\n      const diff = diffFlags(\r\n        removeDefaultRights(prevBannedParticipant?.banned_rights)?.pFlags,\r\n        removeDefaultRights(newBannedParticipant?.banned_rights)?.pFlags\r\n      );\r\n\r\n      // yes, they need to be inversed here\r\n      const removed = diff.new.map(key => participantRightsMap[key])\r\n      .filter(Boolean).map(key => i18n(key))\r\n\r\n      const added = diff.old.map(key => participantRightsMap[key])\r\n      .filter(Boolean).map(key => i18n(key))\r\n\r\n\r\n      return (\r\n        <>\r\n          <MinimalBubbleMessageContent\r\n            date={makeDateFromTimestamp(event.date)}\r\n            name={isOut ? null : makeMessagePeerTitle(peerId)}\r\n          >\r\n            <Show when={isBanned}>\r\n              <I18nTsx\r\n                key={username ? 'AdminLog.ParticipantBannedUsername' : 'AdminLog.ParticipantBanned'}\r\n                args={[linkColor(makePeerTitle(participantPeerId)), username ? linkColor(`@${username}`) : '']}\r\n              />\r\n            </Show>\r\n            <Show when={!isBanned}>\r\n              <I18nTsx\r\n                key={username ? 'AdminLog.ParticipantPermissionsToggledUsername' : 'AdminLog.ParticipantPermissionsToggled'}\r\n                args={[linkColor(makePeerTitle(participantPeerId)), username ? linkColor(`@${username}`) : '']}\r\n              />\r\n            </Show>\r\n            <Show when={!isBanned}>\r\n              <Space amount='0.5rem' />\r\n              <For each={added}>\r\n                {key => <div>+ {key}</div>}\r\n              </For>\r\n              <For each={removed}>\r\n                {key => <div>- {key}</div>}\r\n              </For>\r\n            </Show>\r\n          </MinimalBubbleMessageContent>\r\n        </>\r\n      );\r\n    },\r\n    getCopyText: async() => {\r\n      const dateText = getDateTextForCopy(event.date);\r\n      const {apiManagerProxy, getPeerTitle} = useHotReloadGuard();\r\n      const {isBanned, participantPeerId, added, removed} = extractBanChanges(action, channelId, apiManagerProxy);\r\n      const participantName = await getPeerTitle({peerId: participantPeerId, plainText: true});\r\n      const adminName = await getPeerTitle({peerId, plainText: true});\r\n\r\n      const lines = [`${adminName} [${dateText}]`];\r\n      lines.push(I18n.format(isBanned ? 'AdminLog.ParticipantBanned' : 'AdminLog.ParticipantPermissionsToggled', true, [participantName]));\r\n      added.forEach(perm => lines.push(`+ ${perm}`));\r\n      removed.forEach(perm => lines.push(`- ${perm}`));\r\n\r\n      return {text: lines.join('\\n')};\r\n    }\r\n  }),\r\n  'channelAdminLogEventActionParticipantToggleAdmin': ({event, action, peerId, makePeerTitle, makeMessagePeerTitle, isBroadcast, isOut}) => ({\r\n    type: 'regular',\r\n    bubbleClass: defaultBubbleClass,\r\n    Content: () => {\r\n      const {apiManagerProxy} = useHotReloadGuard();\r\n\r\n      const prevParticipantRights = 'admin_rights' in action.prev_participant ? action.prev_participant.admin_rights : null;\r\n      const newParticipantRights = 'admin_rights' in action.new_participant ? action.new_participant.admin_rights : null;\r\n\r\n      const diff = diffFlags(prevParticipantRights?.pFlags, newParticipantRights?.pFlags);\r\n      const participantPeerId = getParticipantPeerId(action.prev_participant || action.new_participant);\r\n\r\n      const participantUser = apiManagerProxy.getUser(participantPeerId.toUserId());\r\n      const username = participantUser?.username || '';\r\n\r\n      const added = diff.new.map(key => i18n(resolveAdminRightFlagI18n(key, {isBroadcast})));\r\n      const removed = diff.old.map(key => i18n(resolveAdminRightFlagI18n(key, {isBroadcast})));\r\n\r\n      return (\r\n        <>\r\n          <MinimalBubbleMessageContent\r\n            date={makeDateFromTimestamp(event.date)}\r\n            name={isOut ? null : makeMessagePeerTitle(peerId)}\r\n          >\r\n            <I18nTsx\r\n              key={username ? 'AdminLog.AdminPermissionsChangedUsername' : 'AdminLog.AdminPermissionsChanged'}\r\n              args={[linkColor(makePeerTitle(participantPeerId)), username ? linkColor(`@${username}`) : '']}\r\n            />\r\n            <Space amount='0.5rem' />\r\n            <For each={added}>\r\n              {key => <div>+ {key}</div>}\r\n            </For>\r\n            <For each={removed}>\r\n              {key => <div>- {key}</div>}\r\n            </For>\r\n          </MinimalBubbleMessageContent>\r\n        </>\r\n      );\r\n    },\r\n    getCopyText: async() => {\r\n      const dateText = getDateTextForCopy(event.date);\r\n      const {apiManagerProxy, getPeerTitle} = useHotReloadGuard();\r\n      const {participantPeerId, added, removed} = extractAdminChanges(action, apiManagerProxy, isBroadcast);\r\n      const participantName = await getPeerTitle({peerId: participantPeerId, plainText: true});\r\n      const adminName = await getPeerTitle({peerId, plainText: true});\r\n\r\n      const lines = [`${adminName} [${dateText}]`];\r\n      lines.push(I18n.format('AdminLog.AdminPermissionsChanged', true, [participantName]));\r\n      added.forEach(perm => lines.push(`+ ${perm}`));\r\n      removed.forEach(perm => lines.push(`- ${perm}`));\r\n\r\n      return {text: lines.join('\\n')};\r\n    }\r\n  }),\r\n  'channelAdminLogEventActionChangeStickerSet': ({peerId, makePeerTitle, event}) => ({\r\n    type: 'service',\r\n    Content: () => i18n('AdminLog.ChangeStickerSet', [makePeerTitle(peerId)]),\r\n    getCopyText: () => createSimpleServiceCopyText(\r\n      event.date,\r\n      peerId,\r\n      (peerTitle) => I18n.format('AdminLog.ChangeStickerSet', true, [peerTitle])\r\n    )\r\n  }),\r\n  'channelAdminLogEventActionTogglePreHistoryHidden': ({action, peerId, makePeerTitle, event}) => ({\r\n    type: 'service',\r\n    Content: () => i18n(action.new_value ? 'AdminLog.TogglePreHistoryHiddenEnabled' : 'AdminLog.TogglePreHistoryHiddenDisabled', [makePeerTitle(peerId)]),\r\n    getCopyText: () => createConditionalCopyText(\r\n      event.date,\r\n      peerId,\r\n      action.new_value,\r\n      (peerTitle) => ({\r\n        trueText: I18n.format('AdminLog.TogglePreHistoryHiddenEnabled', true, [peerTitle]),\r\n        falseText: I18n.format('AdminLog.TogglePreHistoryHiddenDisabled', true, [peerTitle])\r\n      })\r\n    )\r\n  }),\r\n  'channelAdminLogEventActionDefaultBannedRights': ({event, action, peerId, makeMessagePeerTitle, isOut}) => ({\r\n    type: 'regular',\r\n    bubbleClass: defaultBubbleClass,\r\n    Content: () => {\r\n      const diff = diffFlags(action.prev_banned_rights?.pFlags, action.new_banned_rights?.pFlags);\r\n\r\n      const added = diff.old.map(key => participantRightsMap[key])\r\n      .filter(Boolean).map(key => i18n(key))\r\n\r\n      const removed = diff.new.map(key => participantRightsMap[key])\r\n      .filter(Boolean).map(key => i18n(key))\r\n\r\n      return (\r\n        <>\r\n          <MinimalBubbleMessageContent\r\n            date={makeDateFromTimestamp(event.date)}\r\n            name={isOut ? null : makeMessagePeerTitle(peerId)}\r\n          >\r\n            <I18nTsx key={'AdminLog.DefaultBannedRightsChanged'} />\r\n            <Space amount='0.5rem' />\r\n            <For each={added}>\r\n              {key => <div>+ {key}</div>}\r\n            </For>\r\n            <For each={removed}>\r\n              {key => <div>- {key}</div>}\r\n            </For>\r\n          </MinimalBubbleMessageContent>\r\n        </>\r\n      );\r\n    },\r\n    getCopyText: async() => {\r\n      const {getPeerTitle} = useHotReloadGuard();\r\n      const dateText = getDateTextForCopy(event.date);\r\n      const peerTitle = await getPeerTitle({peerId, plainText: true});\r\n      const {added, removed} = extractDefaultRightsChanges(action);\r\n\r\n      const lines = [`${peerTitle} [${dateText}]`];\r\n      lines.push(I18n.format('AdminLog.DefaultBannedRightsChanged', true, [peerTitle]));\r\n      added.forEach(perm => lines.push(`+ ${perm}`));\r\n      removed.forEach(perm => lines.push(`- ${perm}`));\r\n\r\n      return {text: lines.join('\\n')};\r\n    }\r\n  }),\r\n  'channelAdminLogEventActionStopPoll':  ({action, peerId, makePeerTitle, event}) => isMessage(action.message) ? ({\r\n    type: 'default',\r\n    message: action.message,\r\n    ServiceContent: () => i18n('AdminLog.PollStopped', [makePeerTitle(peerId)]),\r\n    getCopyText: () => createMessageCopyText(\r\n      event.date,\r\n      peerId,\r\n      action.message,\r\n      (peerTitle) => I18n.format('AdminLog.PollStopped', true, [peerTitle])\r\n    )\r\n  }) : null,\r\n  'channelAdminLogEventActionChangeLinkedChat': ({peerId, makePeerTitle, event}) => ({\r\n    type: 'service',\r\n    Content: () => i18n('AdminLog.ChangeLinkedChat', [makePeerTitle(peerId)]),\r\n    getCopyText: () => createSimpleServiceCopyText(\r\n      event.date,\r\n      peerId,\r\n      (peerTitle) => I18n.format('AdminLog.ChangeLinkedChat', true, [peerTitle])\r\n    )\r\n  }),\r\n  'channelAdminLogEventActionChangeLocation': ({isBroadcast, peerId, makePeerTitle, event}) => ({\r\n    type: 'service',\r\n    Content: () => i18n(isBroadcast ? 'AdminLog.ChangeLocationChannel' : 'AdminLog.ChangeLocationGroup', [makePeerTitle(peerId)]),\r\n    getCopyText: () => createSimpleServiceCopyText(\r\n      event.date,\r\n      peerId,\r\n      (peerTitle) => I18n.format(isBroadcast ? 'AdminLog.ChangeLocationChannel' : 'AdminLog.ChangeLocationGroup', true, [peerTitle])\r\n    )\r\n  }),\r\n  'channelAdminLogEventActionToggleSlowMode': ({action, peerId, makePeerTitle, event}) => ({\r\n    type: 'service',\r\n    Content: () => {\r\n      if(action.new_value) {\r\n        const duration = wrapFormattedDuration(formatDuration(action.new_value));\r\n        return i18n('AdminLog.ToggleSlowModeSet', [makePeerTitle(peerId), duration]);\r\n      } else {\r\n        return i18n('AdminLog.ToggleSlowModeDisabled', [makePeerTitle(peerId)]);\r\n      }\r\n    },\r\n    getCopyText: async() => {\r\n      const {getPeerTitle} = useHotReloadGuard();\r\n      const dateText = getDateTextForCopy(event.date);\r\n      const peerTitle = await getPeerTitle({peerId, plainText: true});\r\n      if(action.new_value) {\r\n        const duration = formatDurationAsText(action.new_value);\r\n        const text = I18n.format('AdminLog.ToggleSlowModeSet', true, [peerTitle, duration]);\r\n        return {text: `${text} [${dateText}]`};\r\n      } else {\r\n        const text = I18n.format('AdminLog.ToggleSlowModeDisabled', true, [peerTitle]);\r\n        return {text: `${text} [${dateText}]`};\r\n      }\r\n    }\r\n  }),\r\n  'channelAdminLogEventActionStartGroupCall': ({peerId, makePeerTitle, event}) => ({\r\n    type: 'service',\r\n    Content: () => i18n('AdminLog.StartGroupCall', [makePeerTitle(peerId)]),\r\n    getCopyText: () => createSimpleServiceCopyText(\r\n      event.date,\r\n      peerId,\r\n      (peerTitle) => I18n.format('AdminLog.StartGroupCall', true, [peerTitle])\r\n    )\r\n  }),\r\n  'channelAdminLogEventActionDiscardGroupCall': ({peerId, makePeerTitle, event}) => ({\r\n    type: 'service',\r\n    Content: () => i18n('AdminLog.DiscardGroupCall', [makePeerTitle(peerId)]),\r\n    getCopyText: () => createSimpleServiceCopyText(\r\n      event.date,\r\n      peerId,\r\n      (peerTitle) => I18n.format('AdminLog.DiscardGroupCall', true, [peerTitle])\r\n    )\r\n  }),\r\n  'channelAdminLogEventActionParticipantMute': ({peerId, action, makePeerTitle, event}) => ({\r\n    type: 'service',\r\n    Content: () => i18n('AdminLog.ParticipantMuted', [makePeerTitle(getPeerId(action.participant?.peer)), makePeerTitle(peerId)]),\r\n    getCopyText: () => createTwoPeerCopyText(\r\n      event.date,\r\n      getPeerId(action.participant?.peer),\r\n      peerId,\r\n      (participantTitle, peerTitle) => I18n.format('AdminLog.ParticipantMuted', true, [participantTitle, peerTitle])\r\n    )\r\n  }),\r\n  'channelAdminLogEventActionParticipantUnmute': ({peerId, action, makePeerTitle, event}) => ({\r\n    type: 'service',\r\n    Content: () => i18n('AdminLog.ParticipantUnmuted', [makePeerTitle(getPeerId(action.participant?.peer)), makePeerTitle(peerId)]),\r\n    getCopyText: () => createTwoPeerCopyText(\r\n      event.date,\r\n      getPeerId(action.participant?.peer),\r\n      peerId,\r\n      (participantTitle, peerTitle) => I18n.format('AdminLog.ParticipantUnmuted', true, [participantTitle, peerTitle])\r\n    )\r\n  }),\r\n  'channelAdminLogEventActionToggleGroupCallSetting': ({action, peerId, makePeerTitle, event}) => ({\r\n    type: 'service',\r\n    Content: () => i18n(action.join_muted ? 'AdminLog.ToggleGroupCallSettingEnabled' : 'AdminLog.ToggleGroupCallSettingDisabled', [makePeerTitle(peerId)]),\r\n    getCopyText: () => createConditionalCopyText(\r\n      event.date,\r\n      peerId,\r\n      action.join_muted,\r\n      (peerTitle) => ({\r\n        trueText: I18n.format('AdminLog.ToggleGroupCallSettingEnabled', true, [peerTitle]),\r\n        falseText: I18n.format('AdminLog.ToggleGroupCallSettingDisabled', true, [peerTitle])\r\n      })\r\n    )\r\n  }),\r\n  'channelAdminLogEventActionParticipantJoinByInvite': ({peerId, makePeerTitle, event}) => ({\r\n    type: 'service',\r\n    Content: () => i18n('AdminLog.ParticipantJoinedByInvite', [makePeerTitle(peerId)]),\r\n    getCopyText: () => createSimpleServiceCopyText(\r\n      event.date,\r\n      peerId,\r\n      (peerTitle) => I18n.format('AdminLog.ParticipantJoinedByInvite', true, [peerTitle])\r\n    )\r\n  }),\r\n  'channelAdminLogEventActionExportedInviteDelete': ({peerId, makePeerTitle, event}) => ({\r\n    type: 'service',\r\n    Content: () => i18n('AdminLog.ExportedInviteDeleted', [makePeerTitle(peerId)]),\r\n    getCopyText: () => createSimpleServiceCopyText(\r\n      event.date,\r\n      peerId,\r\n      (peerTitle) => I18n.format('AdminLog.ExportedInviteDeleted', true, [peerTitle])\r\n    )\r\n  }),\r\n  'channelAdminLogEventActionExportedInviteRevoke': ({peerId, makePeerTitle, event}) => ({\r\n    type: 'service',\r\n    Content: () => i18n('AdminLog.ExportedInviteRevoked', [makePeerTitle(peerId)]),\r\n    getCopyText: () => createSimpleServiceCopyText(\r\n      event.date,\r\n      peerId,\r\n      (peerTitle) => I18n.format('AdminLog.ExportedInviteRevoked', true, [peerTitle])\r\n    )\r\n  }),\r\n  'channelAdminLogEventActionExportedInviteEdit': ({peerId, makePeerTitle, event}) => ({\r\n    type: 'service',\r\n    Content: () => i18n('AdminLog.ExportedInviteEdit', [makePeerTitle(peerId)]),\r\n    getCopyText: () => createSimpleServiceCopyText(\r\n      event.date,\r\n      peerId,\r\n      (peerTitle) => I18n.format('AdminLog.ExportedInviteEdit', true, [peerTitle])\r\n    )\r\n  }),\r\n  'channelAdminLogEventActionParticipantVolume': ({peerId, action, makePeerTitle, event}) => ({\r\n    type: 'service',\r\n    Content: () => i18n('AdminLog.ParticipantVolumeChanged', [makePeerTitle(getPeerId(action.participant?.peer)), makePeerTitle(peerId)]),\r\n    getCopyText: () => createTwoPeerCopyText(\r\n      event.date,\r\n      getPeerId(action.participant?.peer),\r\n      peerId,\r\n      (participantTitle, peerTitle) => I18n.format('AdminLog.ParticipantVolumeChanged', true, [participantTitle, peerTitle])\r\n    )\r\n  }),\r\n  'channelAdminLogEventActionChangeHistoryTTL': ({action, peerId, makePeerTitle, event}) => ({\r\n    type: 'service',\r\n    Content: () => {\r\n      if(action.new_value) {\r\n        const duration = wrapFormattedDuration(formatDuration(action.new_value));\r\n        return i18n('AdminLog.ChangeHistoryTTLEnabled', [makePeerTitle(peerId), duration]);\r\n      } else {\r\n        return i18n('AdminLog.ChangeHistoryTTLDisabled', [makePeerTitle(peerId)]);\r\n      }\r\n    },\r\n    getCopyText: async() => {\r\n      const {getPeerTitle} = useHotReloadGuard();\r\n      const dateText = getDateTextForCopy(event.date);\r\n      const peerTitle = await getPeerTitle({peerId, plainText: true});\r\n      if(action.new_value) {\r\n        const duration = formatDurationAsText(action.new_value);\r\n        const text = I18n.format('AdminLog.ChangeHistoryTTLEnabled', true, [peerTitle, duration]);\r\n        return {text: `${text} [${dateText}]`};\r\n      } else {\r\n        const text = I18n.format('AdminLog.ChangeHistoryTTLDisabled', true, [peerTitle]);\r\n        return {text: `${text} [${dateText}]`};\r\n      }\r\n    }\r\n  }),\r\n  'channelAdminLogEventActionParticipantJoinByRequest': ({peerId, action, makePeerTitle, event}) => ({\r\n    type: 'service',\r\n    Content: () => i18n('AdminLog.ParticipantJoinedByRequest', [makePeerTitle(peerId), makePeerTitle(action.approved_by.toPeerId())]),\r\n    getCopyText: () => createTwoPeerCopyText(\r\n      event.date,\r\n      peerId,\r\n      action.approved_by.toPeerId(),\r\n      (peerTitle, approvedByTitle) => I18n.format('AdminLog.ParticipantJoinedByRequest', true, [peerTitle, approvedByTitle])\r\n    )\r\n  }),\r\n  'channelAdminLogEventActionToggleNoForwards': ({action, peerId, makePeerTitle, event}) => ({\r\n    type: 'service',\r\n    Content: () => i18n(action.new_value ? 'AdminLog.ToggleNoForwardsEnabled' : 'AdminLog.ToggleNoForwardsDisabled', [makePeerTitle(peerId)]),\r\n    getCopyText: () => createConditionalCopyText(\r\n      event.date,\r\n      peerId,\r\n      action.new_value,\r\n      (peerTitle) => ({\r\n        trueText: I18n.format('AdminLog.ToggleNoForwardsEnabled', true, [peerTitle]),\r\n        falseText: I18n.format('AdminLog.ToggleNoForwardsDisabled', true, [peerTitle])\r\n      })\r\n    )\r\n  }),\r\n  'channelAdminLogEventActionSendMessage': ({action, peerId, makePeerTitle, event}) => isMessage(action.message) ? ({\r\n    type: 'default',\r\n    message: action.message,\r\n    ServiceContent: () => i18n('AdminLog.MessageSent', [makePeerTitle(peerId)]),\r\n    getCopyText: () => createMessageCopyText(\r\n      event.date,\r\n      peerId,\r\n      action.message,\r\n      (peerTitle) => I18n.format('AdminLog.MessageSent', true, [peerTitle])\r\n    )\r\n  }) : null,\r\n  'channelAdminLogEventActionChangeAvailableReactions': ({peerId, makePeerTitle, event}) => ({\r\n    type: 'service',\r\n    Content: () => i18n('AdminLog.ChangeAvailableReactions', [makePeerTitle(peerId)]),\r\n    getCopyText: () => createSimpleServiceCopyText(\r\n      event.date,\r\n      peerId,\r\n      (peerTitle) => I18n.format('AdminLog.ChangeAvailableReactions', true, [peerTitle])\r\n    )\r\n  }),\r\n  'channelAdminLogEventActionChangeUsernames': ({peerId, makePeerTitle, event}) => ({\r\n    type: 'service',\r\n    Content: () =>\r\n      i18n('AdminLog.ChangeUsernames', [makePeerTitle(peerId)]),\r\n    getCopyText: () => createSimpleServiceCopyText(\r\n      event.date,\r\n      peerId,\r\n      (peerTitle) => I18n.format('AdminLog.ChangeUsernames', true, [peerTitle])\r\n    )\r\n  }),\r\n  'channelAdminLogEventActionToggleForum': ({action, peerId, makePeerTitle, event}) => ({\r\n    type: 'service',\r\n    Content: () => i18n(action.new_value ? 'AdminLog.ToggleForumEnabled' : 'AdminLog.ToggleForumDisabled', [makePeerTitle(peerId)]),\r\n    getCopyText: () => createConditionalCopyText(\r\n      event.date,\r\n      peerId,\r\n      action.new_value,\r\n      (peerTitle) => ({\r\n        trueText: I18n.format('AdminLog.ToggleForumEnabled', true, [peerTitle]),\r\n        falseText: I18n.format('AdminLog.ToggleForumDisabled', true, [peerTitle])\r\n      })\r\n    )\r\n  }),\r\n  'channelAdminLogEventActionCreateTopic': ({peerId, action, makePeerTitle, event}) => ({\r\n    type: 'service',\r\n    Content: () => <I18nTsx key='AdminLog.TopicCreated' args={[makePeerTitle(peerId), <TopicName topic={action.topic} />]} />,\r\n    getCopyText: () => createSimpleServiceCopyText(\r\n      event.date,\r\n      peerId,\r\n      (peerTitle) => {\r\n        const topicTitle = action.topic._ === 'forumTopicDeleted' ? '' : action.topic.title;\r\n        return I18n.format('AdminLog.TopicCreated', true, [peerTitle, topicTitle]);\r\n      }\r\n    )\r\n  }),\r\n  'channelAdminLogEventActionEditTopic': ({peerId, makePeerTitle, action, event}) => ({\r\n    type: 'service',\r\n    Content: () => <I18nTsx key='AdminLog.TopicEdited' args={[makePeerTitle(peerId), <TopicName topic={action.new_topic} />]} />,\r\n    getCopyText: () => createSimpleServiceCopyText(\r\n      event.date,\r\n      peerId,\r\n      (peerTitle) => {\r\n        const topicTitle = action.new_topic._ === 'forumTopicDeleted' ? '' : action.new_topic.title;\r\n        return I18n.format('AdminLog.TopicEdited', true, [peerTitle, topicTitle]);\r\n      }\r\n    )\r\n  }),\r\n  'channelAdminLogEventActionDeleteTopic': ({peerId, makePeerTitle, action, event}) => ({\r\n    type: 'service',\r\n    Content: () => <I18nTsx key='AdminLog.TopicDeleted' args={[makePeerTitle(peerId), <TopicName topic={action.topic} />]} />,\r\n    getCopyText: () => createSimpleServiceCopyText(\r\n      event.date,\r\n      peerId,\r\n      (peerTitle) => {\r\n        const topicTitle = action.topic._ === 'forumTopicDeleted' ? '' : action.topic.title;\r\n        return I18n.format('AdminLog.TopicDeleted', true, [peerTitle, topicTitle]);\r\n      }\r\n    )\r\n  }),\r\n  'channelAdminLogEventActionPinTopic': ({action, peerId, makePeerTitle, event}) => ({\r\n    type: 'service',\r\n    Content: () => {\r\n      const pinned = !!action.new_topic;\r\n      const topic = action.new_topic ? action.new_topic : action.prev_topic;\r\n\r\n      return <I18nTsx key={pinned ? 'AdminLog.TopicPinned' : 'AdminLog.TopicUnpinned'} args={[makePeerTitle(peerId), <TopicName topic={topic} />]} />;\r\n    },\r\n    getCopyText: () => createSimpleServiceCopyText(\r\n      event.date,\r\n      peerId,\r\n      (peerTitle) => {\r\n        const pinned = !!action.new_topic;\r\n        const topic = action.new_topic ? action.new_topic : action.prev_topic;\r\n        const topicTitle = topic._ === 'forumTopic' ? topic.title : '';\r\n        return I18n.format(pinned ? 'AdminLog.TopicPinned' : 'AdminLog.TopicUnpinned', true, [peerTitle, topicTitle]);\r\n      }\r\n    )\r\n  }),\r\n  'channelAdminLogEventActionToggleAntiSpam': ({action, peerId, makePeerTitle, event}) => ({\r\n    type: 'service',\r\n    Content: () => i18n(action.new_value ? 'AdminLog.ToggleAntiSpamEnabled' : 'AdminLog.ToggleAntiSpamDisabled', [makePeerTitle(peerId)]),\r\n    getCopyText: () => createConditionalCopyText(\r\n      event.date,\r\n      peerId,\r\n      action.new_value,\r\n      (peerTitle) => ({\r\n        trueText: I18n.format('AdminLog.ToggleAntiSpamEnabled', true, [peerTitle]),\r\n        falseText: I18n.format('AdminLog.ToggleAntiSpamDisabled', true, [peerTitle])\r\n      })\r\n    )\r\n  }),\r\n  'channelAdminLogEventActionChangePeerColor': ({peerId, makePeerTitle, event}) => ({\r\n    type: 'service',\r\n    Content: () => i18n('AdminLog.ChangePeerColor', [makePeerTitle(peerId)]),\r\n    getCopyText: () => createSimpleServiceCopyText(\r\n      event.date,\r\n      peerId,\r\n      (peerTitle) => I18n.format('AdminLog.ChangePeerColor', true, [peerTitle])\r\n    )\r\n  }),\r\n  'channelAdminLogEventActionChangeProfilePeerColor': ({peerId, makePeerTitle, event}) => ({\r\n    type: 'service',\r\n    Content: () => i18n('AdminLog.ChangeProfilePeerColor', [makePeerTitle(peerId)]),\r\n    getCopyText: () => createSimpleServiceCopyText(\r\n      event.date,\r\n      peerId,\r\n      (peerTitle) => I18n.format('AdminLog.ChangeProfilePeerColor', true, [peerTitle])\r\n    )\r\n  }),\r\n  'channelAdminLogEventActionChangeWallpaper': ({peerId, makePeerTitle, event}) => ({\r\n    type: 'service',\r\n    Content: () => i18n('AdminLog.ChangeWallpaper', [makePeerTitle(peerId)]),\r\n    getCopyText: () => createSimpleServiceCopyText(\r\n      event.date,\r\n      peerId,\r\n      (peerTitle) => I18n.format('AdminLog.ChangeWallpaper', true, [peerTitle])\r\n    )\r\n  }),\r\n  'channelAdminLogEventActionChangeEmojiStatus': ({peerId, makePeerTitle, event}) => ({\r\n    type: 'service',\r\n    Content: () => i18n('AdminLog.ChangeEmojiStatus', [makePeerTitle(peerId)]),\r\n    getCopyText: () => createSimpleServiceCopyText(\r\n      event.date,\r\n      peerId,\r\n      (peerTitle) => I18n.format('AdminLog.ChangeEmojiStatus', true, [peerTitle])\r\n    )\r\n  }),\r\n  'channelAdminLogEventActionChangeEmojiStickerSet': ({peerId, makePeerTitle, event}) => ({\r\n    type: 'service',\r\n    Content: () => i18n('AdminLog.ChangeEmojiStickerSet', [makePeerTitle(peerId)]),\r\n    getCopyText: () => createSimpleServiceCopyText(\r\n      event.date,\r\n      peerId,\r\n      (peerTitle) => I18n.format('AdminLog.ChangeEmojiStickerSet', true, [peerTitle])\r\n    )\r\n  }),\r\n  'channelAdminLogEventActionToggleSignatureProfiles': ({action, peerId, makePeerTitle, event}) => ({\r\n    type: 'service',\r\n    Content: () => i18n(action.new_value ? 'AdminLog.ToggleSignatureProfilesEnabled' : 'AdminLog.ToggleSignatureProfilesDisabled', [makePeerTitle(peerId)]),\r\n    getCopyText: () => createConditionalCopyText(\r\n      event.date,\r\n      peerId,\r\n      action.new_value,\r\n      (peerTitle) => ({\r\n        trueText: I18n.format('AdminLog.ToggleSignatureProfilesEnabled', true, [peerTitle]),\r\n        falseText: I18n.format('AdminLog.ToggleSignatureProfilesDisabled', true, [peerTitle])\r\n      })\r\n    )\r\n  }),\r\n  'channelAdminLogEventActionParticipantSubExtend': ({peerId, makePeerTitle, event}) => ({\r\n    type: 'service',\r\n    Content: () => i18n('AdminLog.ParticipantSubscriptionExtended', [makePeerTitle(peerId)]),\r\n    getCopyText: () => createSimpleServiceCopyText(\r\n      event.date,\r\n      peerId,\r\n      (peerTitle) => I18n.format('AdminLog.ParticipantSubscriptionExtended', true, [peerTitle])\r\n    )\r\n  }),\r\n  'channelAdminLogEventActionToggleAutotranslation': ({action, peerId, makePeerTitle, event}) => ({\r\n    type: 'service',\r\n    Content: () => i18n(action.new_value ? 'AdminLog.ToggleAutoTranslationEnabled' : 'AdminLog.ToggleAutoTranslationDisabled', [makePeerTitle(peerId)]),\r\n    getCopyText: () => createConditionalCopyText(\r\n      event.date,\r\n      peerId,\r\n      action.new_value,\r\n      (peerTitle) => ({\r\n        trueText: I18n.format('AdminLog.ToggleAutoTranslationEnabled', true, [peerTitle]),\r\n        falseText: I18n.format('AdminLog.ToggleAutoTranslationDisabled', true, [peerTitle])\r\n      })\r\n    )\r\n  })\r\n};\r\n\r\ntype ResolveAdminLogArgs = RenderArgs;\r\n\r\nexport const resolveAdminLog = (args: ResolveAdminLogArgs) => {\r\n  const {event} = args;\r\n  const resolver = adminLogsMap[event.action._];\r\n\r\n  if(!resolver) {\r\n    return null;\r\n  }\r\n\r\n  return resolver({...args, action: event.action as never});\r\n};\r\n"],"names":["makeDateFromTimestamp","timestamp","MinimalBubbleMessageContent","props","_el$","_tmpl$2","_el$2","firstChild","_el$4","_el$5","_el$6","_$insert","_$createComponent","Show","when","name","children","_el$3","_tmpl$","makeTime","date","generateTail","_$effect","_$setAttribute","getDirection","Reply","wrapReply","useHotReloadGuard","_$memo","content","middleware","createMiddleware","get","container","setColorPeerId","colorPeerId","title","quote","text","entities","classList","add","getDateTextForCopy","formatDate","formatDurationAsText","seconds","wrapFormattedDuration","formatDuration","extractBanChanges","action","channelId","apiManagerProxy","isBanned","isBannedParticipant","prevBannedParticipant","newBannedParticipant","channel","removeDefaultRights","rights","removeChatBannedRightsFromParticipant","participantPeerId","getParticipantPeerId","participantUser","username","diff","diffFlags","removed","key","participantRightsMap","I18n","added","extractAdminChanges","isBroadcast","prevParticipantRights","newParticipantRights","resolveAdminRightFlagI18n","extractDefaultRightsChanges","getMessageTextForCopy","message","prepareTextWithEntitiesForCopying","createSimpleServiceCopyText","peerId","formatText","getPeerTitle","dateText","peerTitle","createMessageCopyText","msg","createPreviousValueCopyText","formatMainText","newValue","prevValue","formatPreviousLabel","mainText","previousLabel","createMultiLineCopyText","buildLines","createMessageWithPreviousCopyText","newMessage","prevMessage","newMsg","prevMsg","createTwoPeerCopyText","secondPeerId","secondPeerTitle","createConditionalCopyText","condition","formatTexts","trueText","falseText","defaultBubbleClass","adminLogsMap","channelAdminLogEventActionChangeTitle","makePeerTitle","event","type","Content","i18n","new_value","getCopyText","format","channelAdminLogEventActionChangeAbout","makeMessagePeerTitle","isOut","bubbleClass","I18nTsx","args","wrapRichText","Space","amount","prev_value","channelAdminLogEventActionChangeUsername","translationKey","anchor","link","wrapTelegramUrlToAnchor","textContent","lines","push","channelAdminLogEventActionChangePhoto","channelAdminLogEventActionToggleInvites","channelAdminLogEventActionToggleSignatures","channelAdminLogEventActionUpdatePinned","isMessage","ServiceContent","pinned","_","pFlags","channelAdminLogEventActionEditMessage","new_message","originalMessage","prev_message","channelAdminLogEventActionDeleteMessage","channelAdminLogEventActionParticipantJoin","channelAdminLogEventActionParticipantLeave","channelAdminLogEventActionParticipantInvite","participant","participantTitle","channelAdminLogEventActionParticipantToggleBan","new_participant","prev_participant","undefined","getChat","getUser","toUserId","banned_rights","new","map","filter","Boolean","old","linkColor","For","each","_tmpl$3","participantName","plainText","forEach","perm","join","channelAdminLogEventActionParticipantToggleAdmin","admin_rights","_el$7","_el$9","channelAdminLogEventActionChangeStickerSet","channelAdminLogEventActionTogglePreHistoryHidden","channelAdminLogEventActionDefaultBannedRights","prev_banned_rights","new_banned_rights","_el$11","_el$13","channelAdminLogEventActionStopPoll","channelAdminLogEventActionChangeLinkedChat","channelAdminLogEventActionChangeLocation","channelAdminLogEventActionToggleSlowMode","duration","channelAdminLogEventActionStartGroupCall","channelAdminLogEventActionDiscardGroupCall","channelAdminLogEventActionParticipantMute","getPeerId","peer","channelAdminLogEventActionParticipantUnmute","channelAdminLogEventActionToggleGroupCallSetting","join_muted","channelAdminLogEventActionParticipantJoinByInvite","channelAdminLogEventActionExportedInviteDelete","channelAdminLogEventActionExportedInviteRevoke","channelAdminLogEventActionExportedInviteEdit","channelAdminLogEventActionParticipantVolume","channelAdminLogEventActionChangeHistoryTTL","channelAdminLogEventActionParticipantJoinByRequest","approved_by","toPeerId","approvedByTitle","channelAdminLogEventActionToggleNoForwards","channelAdminLogEventActionSendMessage","channelAdminLogEventActionChangeAvailableReactions","channelAdminLogEventActionChangeUsernames","channelAdminLogEventActionToggleForum","channelAdminLogEventActionCreateTopic","TopicName","topic","topicTitle","channelAdminLogEventActionEditTopic","new_topic","channelAdminLogEventActionDeleteTopic","channelAdminLogEventActionPinTopic","prev_topic","channelAdminLogEventActionToggleAntiSpam","channelAdminLogEventActionChangePeerColor","channelAdminLogEventActionChangeProfilePeerColor","channelAdminLogEventActionChangeWallpaper","channelAdminLogEventActionChangeEmojiStatus","channelAdminLogEventActionChangeEmojiStickerSet","channelAdminLogEventActionToggleSignatureProfiles","channelAdminLogEventActionParticipantSubExtend","channelAdminLogEventActionToggleAutotranslation","resolveAdminLog","resolver"],"mappings":"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"}